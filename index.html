<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roma&knzy stor</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Tajawal', sans-serif; }
    body {
      background: linear-gradient(135deg, #1A1A2E, #2D1B3E);
      color: white;
      min-height: 100vh;
    }
    .page { display: none; }
    .active { display: block; }

    /* ---------- صفحة تسجيل الدخول ---------- */
    #authPage {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .auth-box {
      background: rgba(255,255,255,0.08);
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 25px rgba(0,0,0,0.4);
    }
    .logo {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      overflow: hidden;
      margin: 0 auto 10px;
      box-shadow: 0 0 15px rgba(233,30,99,0.5);
    }
    .logo img { width: 100%; height: 100%; object-fit: cover; }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      background: linear-gradient(90deg, #E91E63, #F48FB1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 10px;
      border: none;
      background: rgba(255,255,255,0.1);
      color: white;
      font-size: 16px;
    }
    input::placeholder { color: rgba(255,255,255,0.6); }
    button {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      background: linear-gradient(90deg, #E91E63, #F48FB1);
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(233,30,99,0.5); }
    p { margin-top: 15px; color: rgba(255,255,255,0.8); font-size: 14px; }
    a { color: #FF80AB; text-decoration: none; font-weight: bold; cursor: pointer; }

    /* ---------- الموقع الأساسي ---------- */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: rgba(26,26,46,0.9);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .logo-text {
      font-size: 22px;
      font-weight: bold;
      background: linear-gradient(90deg,#E91E63,#F48FB1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    nav a {
      color: white;
      margin-left: 15px;
      text-decoration: none;
      font-weight: 500;
    }
    .btn {
      background: linear-gradient(90deg, #E91E63, #F48FB1);
      padding: 10px 25px;
      border-radius: 25px;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <!-- صفحة تسجيل الدخول / التسجيل -->
  <div id="authPage" class="page active">
    <div class="auth-box">
      <div class="logo"><img src="1.png" alt="Roma&knzy stor"></div>
      <h1>Roma&knzy stor</h1>
      <h2 id="formTitle" style="margin-bottom:20px;">تسجيل الدخول</h2>

      <input id="email" type="email" placeholder="البريد الإلكتروني">
      <input id="password" type="password" placeholder="كلمة المرور">
      <button id="actionBtn" onclick="signIn()">تسجيل الدخول</button>

      <p><span id="switchText">ما عندكش حساب؟</span>
        <a onclick="toggleAuthMode()">إنشاء حساب</a></p>
    </div>
  </div>

  <!-- الصفحة الرئيسية -->
  <div id="homePage" class="page">
    <header>
      <div class="logo-text">Roma&knzy stor</div>
      <nav>
        <a href="#" onclick="logout()">تسجيل الخروج</a>
      </nav>
    </header>
    <div style="text-align:center;padding:100px 20px;">
      <h1>أهلاً بيك في Roma&knzy stor ❤️</h1>
      <p>دلوقتي انت مسجل دخولك بنجاح!</p>
    </div>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

  <script>
    // إعداد Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA-Pi_g3EUeSgOeVii_OqodpDguMMyPknY",
      authDomain: "romalshop.firebaseapp.com",
      projectId: "romalshop",
      storageBucket: "romalshop.firebasestorage.app",
      messagingSenderId: "830369715807",
      appId: "1:830369715807:web:fbfde9ded9daac6eb46dea"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    let isSignUp = false;

    function toggleAuthMode() {
      isSignUp = !isSignUp;
      document.getElementById('formTitle').textContent = isSignUp ? "إنشاء حساب جديد" : "تسجيل الدخول";
      document.getElementById('actionBtn').textContent = isSignUp ? "إنشاء حساب" : "تسجيل الدخول";
      document.getElementById('actionBtn').setAttribute('onclick', isSignUp ? 'signUp()' : 'signIn()');
      document.getElementById('switchText').textContent = isSignUp ? "عندك حساب؟" : "ما عندكش حساب؟";
    }

    function signUp() {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      if (password.length < 6) return alert("كلمة المرور لازم تكون 6 أحرف على الأقل");
      if (!email.includes("@") || !email.includes(".")) return alert("من فضلك أدخل بريد إلكتروني صحيح");
      auth.createUserWithEmailAndPassword(email, password)
        .then(() => alert("تم إنشاء الحساب بنجاح ✅"))
        .catch(err => alert("خطأ: " + err.message));
    }

    function signIn() {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      auth.signInWithEmailAndPassword(email, password)
        .then(() => console.log("تم تسجيل الدخول"))
        .catch(err => alert("خطأ: " + err.message));
    }

    function logout() {
      auth.signOut().then(() => location.reload());
    }

    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById('authPage').style.display = 'none';
        document.getElementById('homePage').style.display = 'block';
      } else {
        document.getElementById('authPage').style.display = 'block';
        document.getElementById('homePage').style.display = 'none';
      }
    });
  </script>
</body>
</html>
