<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Roma&knzy stor — منصة عالمية</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#0f1724; --bg2:#28163a; --card: rgba(255,255,255,0.06);
    --accent1:#E91E63; --accent2:#F48FB1; --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box;font-family:'Tajawal',sans-serif}
  body{margin:0;min-height:100vh;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:#fff;line-height:1.5}
  .container{max-width:1200px;margin:0 auto;padding:20px}
  header{display:flex;justify-content:space-between;align-items:center;padding:16px 0;position:sticky;top:0;background:rgba(8,7,14,0.5);backdrop-filter: blur(6px);z-index:10;border-bottom:1px solid rgba(255,255,255,0.04)}
  .logo{display:flex;gap:12px;align-items:center}
  .logo img{width:48px;height:48px;border-radius:10px;object-fit:cover;box-shadow:0 6px 18px rgba(233,30,99,0.15)}
  .logo h1{font-size:20px;margin:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  nav ul{display:flex;gap:12px;list-style:none;margin:0;padding:0}
  nav a{color:#fff;text-decoration:none;padding:8px 14px;border-radius:999px;font-weight:500;transition:.18s}
  nav a:hover{transform:translateY(-3px)}
  .lang-switch{margin-left:16px;cursor:pointer;background:var(--glass);padding:8px;border-radius:8px}
  .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;padding:10px 16px;border-radius:14px;color:#fff;font-weight:700;cursor:pointer}
  .hero{padding:60px 0;text-align:center}
  .hero h2{font-size:2.6rem;margin-bottom:8px}
  .hero p{opacity:.9;max-width:800px;margin:0 auto 18px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin:40px 0}
  .card{background:var(--card);padding:20px;border-radius:14px;border:1px solid rgba(255,255,255,0.05);backdrop-filter: blur(6px)}
  .package-amount{font-size:2.2rem;font-weight:800;margin-bottom:6px;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  .section-title{text-align:center;font-size:1.8rem;margin:18px 0;position:relative}
  .center{max-width:720px;margin:0 auto}

  /* forms */
  .auth-wrap{max-width:480px;margin:30px auto;padding:22px;background:var(--glass);border-radius:12px;border:1px solid rgba(255,255,255,0.04)}
  .form-group{margin-bottom:14px}
  input[type="text"],input[type="email"],input[type="password"],input[type="tel"]{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:#fff}
  input[type="file"]{color:#fff}
  .small{font-size:0.9rem;opacity:.85}

  /* pages */
  .page{display:none}
  .page.active{display:block}

  /* orders list */
  .order-item{padding:14px;border-radius:12px;margin-bottom:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03)}
  .status{padding:6px 12px;border-radius:999px;font-weight:700}

  /* userbar */
  .userbar{display:flex;align-items:center;gap:12px}
  .avatar{width:44px;height:44px;border-radius:50%;overflow:hidden}
  .avatar img{width:100%;height:100%;object-fit:cover}

  /* responsive */
  @media (max-width:720px){
    header{flex-direction:column;gap:12px}
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div style="display:flex;align-items:center;gap:12px">
        <div class="logo">
          <img src="1.png" alt="logo" onerror="this.style.display='none'">
          <h1 id="brandTitle">Roma&knzy stor</h1>
        </div>
        <div class="lang-switch" id="langToggle" title="Change language">العربية / EN</div>
      </div>

      <div style="display:flex;align-items:center;gap:12px">
        <nav>
          <ul>
            <li><a href="#" data-i18n="nav_home" onclick="showPage('homePage')">الرئيسية</a></li>
            <li><a href="#" data-i18n="nav_orders" onclick="showPage('ordersPage')">طلباتي</a></li>
            <li><a href="#" data-i18n="nav_packages" onclick="showPage('homePage','packages')">الباقات</a></li>
          </ul>
        </nav>

        <div id="authButtons">
          <button class="btn" onclick="showPage('loginPage')"><i class="fas fa-sign-in-alt"></i> <span data-i18n="btn_login">تسجيل الدخول</span></button>
        </div>

        <div id="userBar" class="userbar" style="display:none">
          <div style="text-align:right">
            <div id="displayName" style="font-weight:700"></div>
            <div id="displayEmail" style="font-size:12px;opacity:.8"></div>
          </div>
          <div class="avatar"><img id="userPhoto" src="" alt="avatar" /></div>
          <button class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff" onclick="signOut()">خروج</button>
        </div>
      </div>
    </header>

    <!-- HOME -->
    <main id="homePage" class="page active">
      <section class="hero">
        <h2 data-i18n="hero_title">مصدرك الموثوق لزيادة المتابعين</h2>
        <p data-i18n="hero_sub">احصل على متابعين حقيقيين ونشطين لحسابك بأفضل الأسعار — آمن وسريع.</p>
        <div style="margin-top:14px">
          <button class="btn" onclick="document.getElementById('packagesSection').scrollIntoView()"><i class="fas fa-shopping-cart"></i> <span data-i18n="btn_start">ابدأ الآن</span></button>
        </div>
      </section>

      <section id="packagesSection" class="center">
        <h3 class="section-title" data-i18n="packages_title">اختر الباقة المناسبة</h3>
        <div class="grid">
          <!-- packages preserved from original -->
          <div class="card">
            <div class="package-amount">50</div>
            <div class="small" data-i18n="pkg_followers">متابع إنستجرام</div>
            <div style="margin:10px 0;font-size:1.2rem">10 جنيه</div>
            <button class="btn" onclick="selectPackage(50,10)">اختر الباقة</button>
          </div>

          <div class="card">
            <div class="package-amount">100</div>
            <div class="small" data-i18n="pkg_followers">متابع إنستجرام</div>
            <div style="margin:10px 0;font-size:1.2rem">20 جنيه</div>
            <button class="btn" onclick="selectPackage(100,20)">اختر الباقة</button>
          </div>

          <div class="card">
            <div class="package-amount">250</div>
            <div class="small" data-i18n="pkg_followers">متابع إنستجرام</div>
            <div style="margin:10px 0;font-size:1.2rem">45 جنيه</div>
            <button class="btn" onclick="selectPackage(250,45)">اختر الباقة</button>
          </div>

          <div class="card">
            <div class="package-amount">500</div>
            <div class="small" data-i18n="pkg_followers">متابع إنستجرام</div>
            <div style="margin:10px 0;font-size:1.2rem">85 جنيه</div>
            <button class="btn" onclick="selectPackage(500,85)">اختر الباقة</button>
          </div>

          <div class="card">
            <div class="package-amount">1000</div>
            <div class="small" data-i18n="pkg_followers">متابع إنستجرام</div>
            <div style="margin:10px 0;font-size:1.2rem">150 جنيه</div>
            <button class="btn" onclick="selectPackage(1000,150)">اختر الباقة</button>
          </div>
        </div>

        <div style="margin-top:32px;text-align:center">
          <a class="small" href="https://wa.me/20112223344" target="_blank"><i class="fab fa-whatsapp"></i> <span data-i18n="contact_whatsapp">تواصل عبر واتساب</span></a>
        </div>
      </section>
    </main>

    <!-- LOGIN -->
    <section id="loginPage" class="page">
      <div class="auth-wrap">
        <h3 data-i18n="login_title">تسجيل الدخول</h3>
        <div class="form-group">
          <input id="loginEmail" type="email" placeholder="البريد الإلكتروني" />
        </div>
        <div class="form-group">
          <input id="loginPassword" type="password" placeholder="كلمة المرور" />
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn" onclick="login()"><i class="fas fa-sign-in-alt"></i> <span data-i18n="btn_login">دخول</span></button>
          <button class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06)" onclick="showPage('signupPage')">إنشاء حساب</button>
        </div>

        <div style="margin-top:12px;text-align:center">
          <button class="btn" style="width:100%;" onclick="googleSignIn()"><i class="fab fa-google"></i> <span data-i18n="btn_google">تسجيل بحساب Google</span></button>
        </div>
      </div>
    </section>

    <!-- SIGNUP -->
    <section id="signupPage" class="page">
      <div class="auth-wrap">
        <h3 data-i18n="signup_title">إنشاء حساب جديد</h3>
        <div class="form-group">
          <input id="signupName" type="text" placeholder="الاسم الكامل" />
        </div>
        <div class="form-group">
          <input id="signupEmail" type="email" placeholder="البريد الإلكتروني" />
        </div>
        <div class="form-group">
          <input id="signupPassword" type="password" placeholder="كلمة المرور" />
        </div>
        <button class="btn" onclick="signup()">تسجيل</button>
        <div style="margin-top:12px;text-align:center">
          <button class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06)" onclick="showPage('loginPage')">لديك حساب؟ تسجيل الدخول</button>
        </div>
      </div>
    </section>

    <!-- PAYMENT / ORDER -->
    <section id="paymentPage" class="page">
      <div class="center">
        <h3 class="section-title" data-i18n="payment_title">إتمام الطلب</h3>
        <div class="card">
          <div style="margin-bottom:12px">
            <strong data-i18n="selected_package">الباقة المختارة:</strong>
            <div id="selectedPackageInfo" class="small">—</div>
          </div>

          <div style="margin:12px 0">
            <strong data-i18n="payment_method">طريقة الدفع</strong>
            <div style="display:flex;gap:12px;align-items:center;margin-top:8px">
              <i class="fas fa-mobile-alt" style="font-size:22px"></i>
              <div>
                <div class="small">فودافون كاش</div>
                <div style="font-weight:800">01031090116</div>
              </div>
            </div>
            <p class="small" style="opacity:.85;margin-top:8px" data-i18n="send_receipt">أرسل المبلغ ثم ارفق إيصال الدفع</p>
          </div>

          <div class="form-group">
            <label class="small" data-i18n="label_instagram">اسم المستخدم في إنستجرام</label>
            <input id="orderUsername" type="text" placeholder="مثال: username_without_@" />
          </div>

          <div class="form-group">
            <label class="small" data-i18n="label_phone">رقم الهاتف</label>
            <input id="orderPhone" type="tel" placeholder="010XXXXXXXX" />
          </div>

          <div class="form-group">
            <label class="small" data-i18n="label_receipt">صورة إيصال الدفع</label>
            <input id="orderReceipt" type="file" accept="image/*" />
          </div>

          <div style="display:flex;gap:10px">
            <button class="btn" onclick="submitOrder()">تأكيد الطلب</button>
            <button class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06)" onclick="showPage('homePage')">إلغاء</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ORDERS PAGE -->
    <section id="ordersPage" class="page">
      <div class="center">
        <h3 class="section-title" data-i18n="orders_title">طلباتي</h3>
        <div id="ordersList">
          <!-- orders injected here -->
        </div>
      </div>
    </section>

    <!-- simple footer -->
    <footer style="text-align:center;padding:24px 0;opacity:.6">
      <small>© <span id="brandFooter">Roma&knzy stor</span> — <span data-i18n="footer_rights">جميع الحقوق محفوظة</span></small>
    </footer>
  </div>

  <!-- Firebase SDKs (compat builds for simple single-file) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>

<script>
/* -------------------------
   Firebase config (use yours)
   ------------------------- */
const firebaseConfig = {
  apiKey: "AIzaSyA-Pi_g3EUeSgOeVii_OqodpDguMMyPknY",
  authDomain: "romalshop.firebaseapp.com",
  projectId: "romalshop",
  storageBucket: "romalshop.firebasestorage.app",
  messagingSenderId: "830369715807",
  appId: "1:830369715807:web:fbfde9ded9daac6eb46dea"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
const storage = firebase.storage();

/* -------------------------
   Simple i18n (العربي / EN)
   ------------------------- */
let LANG = 'ar';
const I18 = {
  ar: {
    nav_home: "الرئيسية", nav_orders: "طلباتي", nav_packages: "الباقات",
    hero_title: "مصدرك الموثوق لزيادة المتابعين",
    hero_sub: "احصل على متابعين حقيقيين ونشطين لحسابك بأفضل الأسعار — آمن وسريع.",
    btn_start: "ابدأ الآن", btn_login: "تسجيل الدخول", btn_google: "تسجيل بحساب Google",
    login_title: "تسجيل الدخول", signup_title: "إنشاء حساب جديد",
    packages_title: "اختر الباقة المناسبة", pkg_followers: "متابع إنستجرام",
    selected_package: "الباقة المختارة:", payment_title: "إتمام الطلب",
    payment_method: "طريقة الدفع", send_receipt: "أرسل المبلغ ثم ارفق إيصال الدفع",
    label_instagram: "اسم المستخدم في إنستجرام", label_phone: "رقم الهاتف", label_receipt: "صورة إيصال الدفع",
    orders_title: "طلباتي", contact_whatsapp: "تواصل عبر واتساب", footer_rights: "جميع الحقوق محفوظة"
  },
  en: {
    nav_home: "Home", nav_orders: "My Orders", nav_packages: "Packages",
    hero_title: "Your trusted source to grow followers",
    hero_sub: "Get real, active Instagram followers at the best prices — fast & safe.",
    btn_start: "Get Started", btn_login: "Login", btn_google: "Sign in with Google",
    login_title: "Login", signup_title: "Create a new account",
    packages_title: "Choose a package", pkg_followers: "Instagram Followers",
    selected_package: "Selected package:", payment_title: "Complete Order",
    payment_method: "Payment method", send_receipt: "Send the amount then attach the payment receipt",
    label_instagram: "Instagram username", label_phone: "Phone number", label_receipt: "Receipt image",
    orders_title: "My Orders", contact_whatsapp: "Contact via WhatsApp", footer_rights: "All rights reserved"
  }
};

function applyI18n(){
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.getAttribute('data-i18n');
    if(I18[LANG] && I18[LANG][key]) el.textContent = I18[LANG][key];
  });
  // placeholders (some inputs)
  document.getElementById('loginEmail').placeholder = LANG==='ar' ? 'البريد الإلكتروني' : 'Email';
  document.getElementById('loginPassword').placeholder = LANG==='ar' ? 'كلمة المرور' : 'Password';
  document.getElementById('signupName').placeholder = LANG==='ar' ? 'الاسم الكامل' : 'Full name';
  document.getElementById('signupEmail').placeholder = LANG==='ar' ? 'البريد الإلكتروني' : 'Email';
  document.getElementById('signupPassword').placeholder = LANG==='ar' ? 'كلمة المرور' : 'Password';
  document.getElementById('orderUsername').placeholder = LANG==='ar' ? 'مثال: username_without_@' : 'e.g. username_without_@';
  document.getElementById('orderPhone').placeholder = LANG==='ar' ? '010XXXXXXXX' : '+20XXXXXXXXX';
}
document.getElementById('langToggle').addEventListener('click', ()=>{
  LANG = LANG==='ar' ? 'en' : 'ar';
  document.documentElement.lang = LANG==='ar' ? 'ar' : 'en';
  document.documentElement.dir = LANG==='ar' ? 'rtl' : 'ltr';
  applyI18n();
});

/* -------------------------
   Auth state handling
   ------------------------- */
let selectedPackage = null;
auth.onAuthStateChanged(async user=>{
  if(user){
    // show userbar
    document.getElementById('authButtons').style.display='none';
    document.getElementById('userBar').style.display='flex';
    document.getElementById('displayName').textContent = user.displayName || (user.email || '').split('@')[0];
    document.getElementById('displayEmail').textContent = user.email || '';
    document.getElementById('userPhoto').src = user.photoURL || 'https://via.placeholder.com/80x80.png?text=U';
    // when logged in, show orders
    if(currentPage() === 'ordersPage' || currentPage() === 'homePage') loadOrdersForUser();
  } else {
    document.getElementById('authButtons').style.display='flex';
    document.getElementById('userBar').style.display='none';
    // If user tries to access protected pages, redirect to login
    if(['ordersPage','paymentPage'].includes(currentPage())){
      showPage('loginPage');
    }
  }
});

/* -------------------------
   showPage helper
   ------------------------- */
function currentPage(){
  const pages = document.querySelectorAll('.page');
  for(const p of pages) if(p.classList.contains('active')) return p.id;
  return null;
}
function showPage(pageId, scrollTarget){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
  window.scrollTo({top:0,behavior:'smooth'});
  // if orders page and logged in — load orders
  if(pageId==='ordersPage') loadOrdersForUser();
  if(pageId==='paymentPage') {
    // protect
    const user = auth.currentUser;
    if(!user){ alert(LANG==='ar' ? 'يرجى تسجيل الدخول لإتمام الطلب' : 'Please login to complete the order'); showPage('loginPage'); }
  }
  if(scrollTarget){
    const el = document.getElementById(scrollTarget);
    if(el) el.scrollIntoView({behavior:'smooth'});
  }
}

/* -------------------------
   Sign up / Login / Google
   ------------------------- */
async function signup(){
  const name = document.getElementById('signupName').value.trim();
  const email = document.getElementById('signupEmail').value.trim();
  const pass = document.getElementById('signupPassword').value;
  if(!name || !email || !pass) return alert(LANG==='ar' ? 'املأ كل الحقول' : 'Please fill all fields');
  try{
    const res = await auth.createUserWithEmailAndPassword(email,pass);
    await res.user.updateProfile({displayName: name});
    // save minimal user doc
    await db.collection('users').doc(res.user.uid).set({name,email,createdAt: firebase.firestore.FieldValue.serverTimestamp()});
    alert(LANG==='ar' ? 'تم إنشاء الحساب بنجاح' : 'Account created');
    showPage('loginPage');
  }catch(e){
    alert(e.message);
  }
}

async function login(){
  const email = document.getElementById('loginEmail').value.trim();
  const pass = document.getElementById('loginPassword').value;
  if(!email || !pass) return alert(LANG==='ar' ? 'ادخل البريد و كلمة المرور' : 'Enter email and password');
  try{
    await auth.signInWithEmailAndPassword(email,pass);
    alert(LANG==='ar' ? 'تم تسجيل الدخول' : 'Logged in');
    showPage('ordersPage');
  }catch(e){
    alert(e.message);
  }
}

async function googleSignIn(){
  const provider = new firebase.auth.GoogleAuthProvider();
  try{
    const res = await auth.signInWithPopup(provider);
    // store user to users collection
    const u = res.user;
    if(u) await db.collection('users').doc(u.uid).set({
      name: u.displayName || '',
      email: u.email || '',
      photo: u.photoURL || '',
      provider: 'google',
      updatedAt: firebase.firestore.FieldValue.serverTimestamp()
    }, {merge:true});
    showPage('ordersPage');
  }catch(e){
    alert(e.message);
  }
}

function signOut(){
  auth.signOut();
  alert(LANG==='ar' ? 'تم تسجيل الخروج' : 'Signed out');
  showPage('homePage');
}

/* -------------------------
   Select package & go to payment
   ------------------------- */
function selectPackage(amount, price){
  selectedPackage = {amount, price};
  document.getElementById('selectedPackageInfo').textContent = `${amount} متابع - ${price} جنيه`;
  // ensure logged in
  if(!auth.currentUser){ showPage('loginPage'); alert(LANG==='ar' ? 'سجل الدخول أو أنشئ حساب لإتمام الطلب' : 'Please login/create account to continue'); return; }
  showPage('paymentPage');
}

/* -------------------------
   Submit order (uploads receipt to Storage)
   ------------------------- */
async function submitOrder(){
  if(!selectedPackage){ alert(LANG==='ar' ? 'اختر باقة أولاً' : 'Please select a package first'); return; }
  const username = document.getElementById('orderUsername').value.trim();
  const phone = document.getElementById('orderPhone').value.trim();
  const receiptFile = document.getElementById('orderReceipt').files[0];
  if(!username || !phone || !receiptFile){ alert(LANG==='ar' ? 'املأ الحقول وأرفق صورة الإيصال' : 'Fill fields and attach receipt image'); return; }
  const user = auth.currentUser;
  if(!user){ alert(LANG==='ar' ? 'يرجى تسجيل الدخول' : 'Please login'); showPage('loginPage'); return; }

  try{
    // upload receipt
    const filePath = `receipts/${user.uid}_${Date.now()}_${receiptFile.name}`;
    const snap = await storage.ref().child(filePath).put(receiptFile);
    const receiptURL = await snap.ref.getDownloadURL();

    const order = {
      userId: user.uid,
      userEmail: user.email || '',
      package: selectedPackage,
      username,
      phone,
      receiptURL,
      status: 'قيد المراجعة',
      date: new Date().toLocaleString(LANG==='ar' ? 'ar-EG' : 'en-US'),
      createdAt: firebase.firestore.FieldValue.serverTimestamp()
    };

    const docRef = await db.collection('orders').add(order);
    alert(LANG==='ar' ? 'تم إرسال طلبك بنجاح! سنراجعه قريباً.' : 'Order submitted — we will review it soon.');
    // reset fields
    document.getElementById('orderUsername').value='';
    document.getElementById('orderPhone').value='';
    document.getElementById('orderReceipt').value='';
    selectedPackage = null;
    showPage('ordersPage');
    loadOrdersForUser();
  }catch(e){
    console.error(e);
    alert(LANG==='ar' ? 'حدث خطأ أثناء إرسال الطلب' : 'Error sending order');
  }
}

/* -------------------------
   Load orders for current user (protected)
   ------------------------- */
async function loadOrdersForUser(){
  const el = document.getElementById('ordersList');
  el.innerHTML = '<div style="opacity:.8;padding:16px;text-align:center">تحميل الطلبات...</div>';
  const user = auth.currentUser;
  if(!user){ el.innerHTML = '<div class="small" style="text-align:center">يرجى تسجيل الدخول لرؤية طلباتك</div>'; return; }
  try{
    const snapshot = await db.collection('orders').where('userId','==',user.uid).orderBy('createdAt','desc').get();
    if(snapshot.empty){ el.innerHTML = '<div class="card" style="text-align:center">لا توجد طلبات حالياً</div>'; return; }
    let html = '';
    snapshot.forEach(doc=>{
      const o = doc.data();
      const statusClass = o.status === 'تم الإرسال' ? 'background:rgba(0,201,167,0.12);color:#00C9A7' : 'background:rgba(255,199,95,0.1);color:#FFC75F';
      html += `<div class="order-item">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <div><strong>#${doc.id.slice(-6)}</strong><div class="small" style="opacity:.85">${o.package.amount} متابع - ${o.package.price} جنيه</div></div>
          <div class="status" style="${statusClass}">${o.status}</div>
        </div>
        <div class="small"><strong>${LANG==='ar'?'اسم المستخدم':'Username'}:</strong> @${o.username}</div>
        <div class="small"><strong>${LANG==='ar'?'رقم الهاتف':'Phone'}:</strong> ${o.phone}</div>
        <div class="small"><strong>${LANG==='ar'?'تاريخ الطلب':'Date'}:</strong> ${o.date || ''}</div>
        ${o.receiptURL ? `<div style="margin-top:8px"><a href="${o.receiptURL}" target="_blank" class="small">عرض إيصال الدفع</a></div>` : ''}
      </div>`;
    });
    el.innerHTML = html;
  }catch(e){
    console.error(e);
    el.innerHTML = '<div class="small" style="color:#ff9b9b">حدث خطأ أثناء تحميل الطلبات</div>';
  }
}

/* -------------------------
   init i18n
   ------------------------- */
applyI18n();

/* optional: expose selectPackage globally for inline buttons */
window.selectPackage = selectPackage;
window.showPage = showPage;
window.signup = signup;
window.login = login;
window.googleSignIn = googleSignIn;
window.submitOrder = submitOrder;
window.signOut = signOut;
</script>
</body>
</html>
